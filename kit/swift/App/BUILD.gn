swift_static("Application") {
  deps = [
    "//runtime/MumbaShims",
    "//kit/swift/Base",
    "//kit/swift/PosixShim",
    "//kit/swift/Graphics",
    "//kit/swift/Compositor",
    "//kit/swift/Route",
    "//kit/swift/ThirdParty/Libevent",
  ]
  sources = [
    "Sources/Application/Application.swift",
    "Sources/Application/ApplicationErrors.swift",
    "Sources/Application/Bundle.swift",
    "Sources/Application/EventMessage.swift",
  ]
}

# swift_static("Net") {
#   deps = [
#     "//runtime/MumbaShims",
#   ]
#   sources = [
#     "Sources/Net/AddressList.swift",
#     "Sources/Net/Buffer.swift",
#     "Sources/Net/CompletionCallback.swift",
#     "Sources/Net/Filestream.swift",
#     "Sources/Net/IPEndPoint.swift",
#     "Sources/Net/URLSession.swift",
#   ]
# }

swift_static("Text") {
  deps = [
    "//runtime/MumbaShims",
    "//kit/swift/Base",
    "//kit/swift/PosixShim",
    "//kit/swift/ThirdParty/Libevent",
    "//kit/swift/Graphics"
  ]
  sources = [
    "Sources/Text/LinePositionSpan.swift",
    "Sources/Text/LinePosition.swift",
    "Sources/Text/StringText.swift",
    "Sources/Text/SubText.swift",
    "Sources/Text/TextEdit.swift",
    "Sources/Text/TextLines.swift",
    "Sources/Text/TextLine.swift",
    "Sources/Text/TextSpan.swift",
    "Sources/Text/Text.swift",
  ]
}

swift_static("UI") {
  deps = [
    "//runtime/MumbaShims",
    "//kit/swift/Base",
    "//kit/swift/PosixShim",
    "//kit/swift/ThirdParty/Libevent",
    "//kit/swift/ThirdParty/ProtocolBuffers",
    "//kit/swift/Javascript",
    "//kit/swift/Graphics",
    "//kit/swift/Channel",
    "//kit/swift/Compositor",
    "//kit/swift/GL",
    "//kit/swift/Platform",
    "//kit/swift/Gpu",
    "//kit/swift/X11",
    "//kit/swift/Web",
    "//kit/swift/Route",
    "//kit/swift/_C",
    ":Text",
    ":Application",
  ]
  sources = [
    "Sources/UI/Views/Animation/AnimationContainerElement.swift",
    "Sources/UI/Views/Animation/AnimationContainer.swift",
    "Sources/UI/Views/Animation/AnimationDelegate.swift",
    "Sources/UI/Views/Animation/Animation.swift",
    "Sources/UI/Views/Animation/FloatAnimationCurveAdapter.swift",
    "Sources/UI/Views/Animation/InkDropHighlight.swift",
    "Sources/UI/Views/Animation/InkDropHostView.swift",
    "Sources/UI/Views/Animation/InkDropMask.swift",
    "Sources/UI/Views/Animation/InkDropPaintedLayerDelegates.swift",
    "Sources/UI/Views/Animation/InkDropRipple.swift",
    "Sources/UI/Views/Animation/InkDrop.swift",
    "Sources/UI/Views/Animation/InkDropUtil.swift",
    "Sources/UI/Views/Animation/LinearAnimation.swift",
    "Sources/UI/Views/Animation/MultiAnimation.swift",
    "Sources/UI/Views/Animation/ScrollAnimator.swift",
    "Sources/UI/Views/Animation/SlideAnimation.swift",
    "Sources/UI/Views/Animation/ThrobAnimation.swift",
    "Sources/UI/Views/Animation/TransformAnimationCurveAdapter.swift",
    "Sources/UI/Views/Bubble/BubbleBorder.swift",
    "Sources/UI/Views/Bubble/BubbleDialogDelegate.swift",
    "Sources/UI/Views/Bubble/BubbleFrameView.swift",
    "Sources/UI/Views/Bubble/BubbleTargeter.swift",
    "Sources/UI/Views/Bubble/InfoBubble.swift",
    "Sources/UI/Views/Controls/Button.swift",
    "Sources/UI/Views/Controls/CalendarView.swift",
    "Sources/UI/Views/Controls/Checkbox.swift",
    "Sources/UI/Views/Controls/ComboBox.swift",
    "Sources/UI/Views/Controls/DatePicker.swift",
    "Sources/UI/Views/Controls/FocusableBorder.swift",
    "Sources/UI/Views/Controls/ImageButton.swift",
    "Sources/UI/Views/Controls/ImageView.swift",
    "Sources/UI/Views/Controls/LabelButtonLabel.swift",
    "Sources/UI/Views/Controls/LabelButton.swift",
    "Sources/UI/Views/Controls/Label.swift",
    "Sources/UI/Views/Controls/MenuButton.swift",
    "Sources/UI/Views/Controls/MenuController.swift",
    "Sources/UI/Views/Controls/MenuHostRootView.swift",
    "Sources/UI/Views/Controls/MenuHost.swift",
    "Sources/UI/Views/Controls/MenuImageUtil.swift",
    "Sources/UI/Views/Controls/MenuModel.swift",
    "Sources/UI/Views/Controls/MenuPreTargetHandler.swift",
    "Sources/UI/Views/Controls/MenuRunner.swift",
    "Sources/UI/Views/Controls/MenuScrollViewContainer.swift",
    "Sources/UI/Views/Controls/MenuView.swift",
    "Sources/UI/Views/Controls/PdfView.swift",
    "Sources/UI/Views/Controls/PopupView.swift",
    "Sources/UI/Views/Controls/PrefixSelector.swift",
    "Sources/UI/Views/Controls/ProgressBar.swift",
    "Sources/UI/Views/Controls/RadioButton.swift",
    "Sources/UI/Views/Controls/ResizeArea.swift",
    "Sources/UI/Views/Controls/Scrollbar.swift",
    "Sources/UI/Views/Controls/Scrollview.swift",
    "Sources/UI/Views/Controls/Slider.swift",
    "Sources/UI/Views/Controls/Spinner.swift",
    "Sources/UI/Views/Controls/SplitView.swift",
    "Sources/UI/Views/Controls/StackView.swift",
    "Sources/UI/Views/Controls/Switch.swift",
    "Sources/UI/Views/Controls/TabbedPane.swift",
    "Sources/UI/Views/Controls/TableView.swift",
    "Sources/UI/Views/Controls/Textfield.swift",
    "Sources/UI/Views/Controls/Textview.swift",
    "Sources/UI/Views/Controls/Throbber.swift",
    "Sources/UI/Views/Controls/TimePicker.swift",
    "Sources/UI/Views/Controls/Toast.swift",
    "Sources/UI/Views/Controls/ToggleButton.swift",
    "Sources/UI/Views/Controls/TreeView.swift",
    "Sources/UI/Views/Controls/VideoView.swift",
    #"Sources/UI/Views/Controls/WebView.swift",
    "Sources/UI/Views/Controls/ZoomButton.swift",
    "Sources/UI/Views/Desktop/DesktopCaptureClient.swift",
    "Sources/UI/Views/Desktop/DesktopCursorLoaderUpdater.swift",
    "Sources/UI/Views/Desktop/DesktopNativeCursorManager.swift",
    "Sources/UI/Views/Desktop/DesktopDispatcherClient.swift",
    "Sources/UI/Views/Desktop/DesktopDragDropClientX11.swift",
    "Sources/UI/Views/Desktop/DesktopEventClient.swift",
    "Sources/UI/Views/Desktop/DesktopFocusRules.swift",
    "Sources/UI/Views/Desktop/DesktopFrameView.swift",
    #"Sources/UI/Views/Desktop/DesktopHandlerX11.swift",
    "Sources/UI/Views/Desktop/DesktopScreenPositionClient.swift",
    "Sources/UI/Views/Desktop/DesktopScreen.swift",
    "Sources/UI/Views/Desktop/DesktopScreenX11.swift",
    "Sources/UI/Views/Desktop/DesktopNativeWidget.swift",
    "Sources/UI/Views/Desktop/DesktopWindowMoveClientX11.swift",
    "Sources/UI/Views/Desktop/DesktopWindowTreeHost.swift",
    "Sources/UI/Views/Desktop/DesktopWindowTreeHostX11.swift",
    "Sources/UI/Views/Desktop/MoveLoopX11.swift",
    "Sources/UI/Views/Desktop/WindowEventFilterX11.swift",
    "Sources/UI/Views/AcceleratorManager.swift",
    "Sources/UI/Views/Accessibility.swift",
    "Sources/UI/Views/Activation.swift",
    "Sources/UI/Views/Background.swift",
    "Sources/UI/Views/Border.swift",
    "Sources/UI/Views/CallbackLayerAnimationObserver.swift",
    "Sources/UI/Views/Client.swift",
    "Sources/UI/Views/ClientView.swift",
    "Sources/UI/Views/Clipboard.swift",
    "Sources/UI/Views/ClipRecorder.swift",
    "Sources/UI/Views/CompositionText.swift",
    "Sources/UI/Views/CompoundEventFilter.swift",
    "Sources/UI/Views/ContextMenuController.swift",
    "Sources/UI/Views/CursorManager.swift",
    "Sources/UI/Views/CustomFrameView.swift",
    "Sources/UI/Views/DialogButton.swift",
    "Sources/UI/Views/DialogClientView.swift",
    "Sources/UI/Views/DialogDelegate.swift",
    "Sources/UI/Views/DialogDelegateView.swift",
    "Sources/UI/Views/DialogModel.swift",
    "Sources/UI/Views/DialogObserver.swift",
    "Sources/UI/Views/DirectOutputSurface.swift",
    "Sources/UI/Views/DispatcherClient.swift",
    "Sources/UI/Views/DragController.swift",
    "Sources/UI/Views/DragDropClient.swift",
    "Sources/UI/Views/DragDrop.swift",
    "Sources/UI/Views/DropHelper.swift",
    "Sources/UI/Views/EventMonitor.swift",
    "Sources/UI/Views/ExternalBeginFrameClient.swift",
    "Sources/UI/Views/FillLayoutOld.swift",
    "Sources/UI/Views/FocusController.swift",
    "Sources/UI/Views/FocusManager.swift",
    "Sources/UI/Views/FocusRules.swift",
    "Sources/UI/Views/FocusSearch.swift",
    "Sources/UI/Views/FrameBackground.swift",
    "Sources/UI/Views/FrameButtons.swift",
    "Sources/UI/Views/HitTest.swift",
    "Sources/UI/Views/ImplicitAnimationObserver.swift",
    #"Sources/UI/Views/InProcessContextFactory.swift",
    #"Sources/UI/Views/InProcessContextProvider.swift",
    "Sources/UI/Views/InputMethod.swift",
    "Sources/UI/Views/l10n.swift",
    "Sources/UI/Views/LayerAnimationElement.swift",
    "Sources/UI/Views/LayerAnimationSequence.swift",
    "Sources/UI/Views/LayerAnimation.swift",
    "Sources/UI/Views/LayerAnimatorCollection.swift",
    "Sources/UI/Views/LayerAnimator.swift",
    "Sources/UI/Views/LayerDelegate.swift",
    "Sources/UI/Views/LayerObserver.swift",
    "Sources/UI/Views/LayerOwner.swift",
    "Sources/UI/Views/Layer.swift",
    "Sources/UI/Views/Layout/BoxLayout.swift",
    "Sources/UI/Views/Layout/FillLayout.swift",
    "Sources/UI/Views/Layout/GridLayout.swift",
    "Sources/UI/Views/Layout/LayoutProvider.swift",
    "Sources/UI/Views/LayoutManager.swift",
    "Sources/UI/Views/Linux/InputMethodLinux.swift",
    "Sources/UI/Views/Linux/LinuxInputMethodContext.swift",
    "Sources/UI/Views/NativeFrameView.swift",
    "Sources/UI/Views/NativeWidget.swift",
    "Sources/UI/Views/NativeWidgetDelegate.swift",
    "Sources/UI/Views/NonClientView.swift",
    "Sources/UI/Views/PaintCache.swift",
    "Sources/UI/Views/PaintContext.swift",
    "Sources/UI/Views/Painter.swift",
    "Sources/UI/Views/PaintInfo.swift",
    "Sources/UI/Views/PaintRecorder.swift",
    "Sources/UI/Views/PlatformCursorManager.swift",
    "Sources/UI/Views/PrefixDelegate.swift",
    "Sources/UI/Views/PropertyChangeReason.swift",
    "Sources/UI/Views/Reflector.swift",
    "Sources/UI/Views/RootView.swift",
    "Sources/UI/Views/RootViewTargeter.swift",
    "Sources/UI/Views/ScopedLayerAnimationSettings.swift",
    "Sources/UI/Views/ScreenPositionClient.swift",
    "Sources/UI/Views/ScrollInputHandler.swift",
    "Sources/UI/Views/ScrollView.swift",
    "Sources/UI/Views/SelectionController.swift",
    "Sources/UI/Views/ShadowController.swift",
    "Sources/UI/Views/ShadowTypes.swift",
    "Sources/UI/Views/Style/PlatformStyle.swift",
    "Sources/UI/Views/TextInputClient.swift",
    "Sources/UI/Views/TextInput.swift",
    "Sources/UI/Views/TextStyles.swift",
    "Sources/UI/Views/Theme/ThemePainterDefault.swift",
    "Sources/UI/Views/Theme/ThemePainterLinux.swift",
    "Sources/UI/Views/Theme/ThemePainter.swift",
    "Sources/UI/Views/Theme/Theme.swift",
    "Sources/UI/Views/TooltipClient.swift",
    "Sources/UI/Views/TooltipController.swift",
    "Sources/UI/Views/TooltipManager.swift",
    "Sources/UI/Views/Tooltip.swift",
    "Sources/UI/Views/TouchEditable.swift",
    "Sources/UI/Views/TransformRecorder.swift",
    "Sources/UI/Views/TransientWindowClient.swift",
    "Sources/UI/Views/TransientWindowController.swift",
    "Sources/UI/Views/TransientWindowManager.swift",
    "Sources/UI/Views/TransientWindowObserver.swift",
    "Sources/UI/Views/UIApplicationOld.swift",
    "Sources/UI/Views/UICompositorLock.swift",
    "Sources/UI/Views/UICompositor.swift",
    "Sources/UI/Views/UICompositorVSyncManager.swift",
    "Sources/UI/Views/UIContextFactory.swift",
    "Sources/UI/Views/UIWidget.swift",
    "Sources/UI/Views/UIWidgetDelegate.swift",
    "Sources/UI/Views/UIWidgetDeletionObserver.swift",
    "Sources/UI/Views/UIWidgetObserver.swift",
    "Sources/UI/Views/UI.swift",
    "Sources/UI/Views/ViewObserver.swift",
    "Sources/UI/Views/ViewsDelegate.swift",
    "Sources/UI/Views/ViewStorage.swift",
    "Sources/UI/Views/View.swift",
    "Sources/UI/Views/ViewTargeterDelegate.swift",
    "Sources/UI/Views/ViewTargeter.swift",
    "Sources/UI/Views/ViewTracker.swift",
    "Sources/UI/Views/VisibilityController.swift",
    "Sources/UI/Views/WindowDelegate.swift",
    "Sources/UI/Views/WindowEventDispatcher.swift",
    "Sources/UI/Views/WindowFocusManager.swift",
    "Sources/UI/Views/WindowLayoutManager.swift",
    "Sources/UI/Views/WindowModalityController.swift",
    "Sources/UI/Views/WindowReorderer.swift",
    "Sources/UI/Views/Window.swift",
    "Sources/UI/Views/WindowAnimations.swift",
    "Sources/UI/Views/WindowButtonOrderProvider.swift",
    "Sources/UI/Views/WindowParentingClient.swift",
    "Sources/UI/Views/WindowShape.swift",
    "Sources/UI/Views/WindowObserver.swift",
    "Sources/UI/Views/WindowTargeter.swift",
    "Sources/UI/Views/WindowTracker.swift",
    "Sources/UI/Views/WindowTreeHost.swift",
    "Sources/UI/Views/WindowTreeHostPlatform.swift",
    # Web
    "Sources/UI/Web/CreateNewWindowParams.swift",
    "Sources/UI/Web/DidOverscrollParams.swift",
    "Sources/UI/Web/MouseLockDispatcher.swift",
    "Sources/UI/Web/SelectionBoundsParams.swift",
    "Sources/UI/Web/UrlLoaderDispatcher.swift",
    "Sources/UI/Web/NetworkConnectionType.swift",
    "Sources/UI/Web/UIApplication.swift",
    "Sources/UI/Web/UIDispatcher.swift", 
    "Sources/UI/Web/UIWebFrame.swift",
    "Sources/UI/Web/UIWebFrameObserver.swift",
    "Sources/UI/Web/UIWebFrameProxy.swift",
    "Sources/UI/Web/UIWebWindow.swift",
    "Sources/UI/Web/UIWebMediaPlayerDelegate.swift",
    "Sources/UI/Web/UIWebWindowCompositor.swift",
    "Sources/UI/Web/UIWindow.swift",
    "Sources/UI/Web/UIWindowInputHandler.swift",
    "Sources/UI/Web/UIWindowInputHandlerManager.swift",
    "Sources/UI/Web/UIWindowMouseLockDispatcher.swift",
    "Sources/UI/Web/UIWindowObserver.swift",
    "Sources/UI/Web/VisualProperties.swift",
    # UI
    "Sources/UI/ResourceBundle.swift",
    "Sources/UI/UIErrors.swift",
  ]
}

group("App") {
  #testonly = true
  deps = [
    "//kit/swift/Graphics",
    "//kit/swift/_C",
    "//kit/swift/PDF",
    "//kit/swift/Platform",
    "//kit/swift/X11",
    "//kit/swift/Compositor",
    "//kit/swift/Gpu",
    "//kit/swift/GL",
    "//kit/swift/Media",
    ":Application",
    #":Net",
    #":Text",
    ":UI",
  ]
}
